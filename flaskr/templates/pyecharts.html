{% extends 'base.html' %}

{% block header %}

<head>
  <meta charset="UTF-8">
  <title>Awesome-pyecharts</title>
  <script src="{{ url_for('static', filename='jquery-3.4.1.min.js') }}"></script>
  <script src="{{ url_for('static', filename='echarts.min.js') }}"></script>

</head>
{% endblock %}

{% block content %}

<body>
  <div style="width:'100%'; height:50px;">
    <ul>
      <div class="dropdown">
        <a href="{{ url_for('visible.visible',chartType='lineChart' ) }}">折线图</a>
        <a href="{{ url_for('visible.visible',chartType='scatterChart' ) }}">散点图</a>
        <a href="{{ url_for('visible.visible',chartType='barChart' ) }}">柱状图</a>

      </div>
      <div class="dropdown">
        <a href="#" class="dropbtn">设计</a>
        <div class="dropdown-content">
          <a href="#">折线图1</a>
          <a href="#">散点图1</a>
        </div>
      </div>
      <div class="dropdown">
        <a href="{{ url_for('visible.setTheme',chartType='lineChart',setTheme='dark' ) }}">风格-dark</a>
        <a href="{{ url_for('visible.setTheme',chartType='lineChart',setTheme='light' ) }}">风格-light</a>
        <!-- <a href="{{ url_for('visible.visible',chartType='lineChart',theme='walden' ) }}">风格-walden</a>
        <a href="{{ url_for('visible.visible',chartType='lineChart',theme='romantic' ) }}">风格-romantic</a> -->

      </div>
    </ul>
  </div>

  <div id="bar" style="width:'100%'; height:600px;"></div>
  <script>
    $(
      function () {
        var chart = echarts.init(document.getElementById('bar'), '{{ theme }}', { renderer: 'canvas' });
        $.ajax({
          type: "GET",
          url: "http://127.0.0.1:5000/{{operator}}",
          dataType: 'json',
          success: function (result) {
            chart.setOption(result);
          }
        });
      }
    )
  </script>

</body>
{% endblock %}